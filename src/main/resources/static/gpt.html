<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KunlaQuota</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
    <script src="https://unpkg.com/htmx.org@1.5.0"></script>
    <style>
        .quote-box {
            margin-bottom: 20px;
        }
        .quote-date {
            font-size: 0.8rem;
            color: #7a7a7a;
            text-align: right;
        }
    </style>
</head>
<body>
<!-- Navbar -->
<nav class="navbar is-primary" role="navigation" aria-label="main navigation">
    <div class="navbar-brand">
        <a class="navbar-item">
            KunlaQuota
        </a>
    </div>
    <div class="navbar-end">
        <div class="navbar-item">
            <button class="button is-light" hx-get="#quoteForm" hx-target="#formContainer">
                Add New Quote
            </button>
        </div>
    </div>
</nav>

<!-- Main Content -->
<div class="container mt-5">
    <!-- Quotes List -->
    <div id="quotesList">
        <div class="box quote-box">
            <div class="content">
                <div class="quote-date">03/03/2024 15:30</div>
                <div class="media">
                    <div class="media-content">
                        <p><strong>Tim:</strong> Have you heard about our lord and savior, Kotlin?</p>
                        <p><strong>Bob:</strong> No I haven't, tell me all about it!</p>
                    </div>
                </div>
            </div>
        </div>
        <!-- Repeat similar blocks for more quotes -->
    </div>

    <!-- Add Quote Form -->
    <div id="formContainer" class="mt-5">
        <form id="quoteForm" hx-post="/submitQuote" hx-target="#errorMessages" hx-swap="innerHTML">
            <div class="box">
                <div class="field">
                    <div class="control">
                        <input class="input" type="text" id="nameInput" name="name" placeholder="Name" required>
                    </div>
                </div>
                <div class="field">
                    <div class="control">
                        <input class="input" type="text" name="quote" placeholder="Quote" required>
                    </div>
                </div>
                <div id="extraFields"></div>
                <div class="field is-grouped">
                    <div class="control">
                        <button type="button" class="button is-link" hx-post="/addLine" hx-target="#extraFields" hx-swap="beforeend">Add Line</button>
                    </div>
                    <div class="control">
                        <button type="submit" class="button is-primary">Submit</button>
                    </div>
                </div>
                <div id="errorMessages"></div>
            </div>
        </form>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        document.getElementById('nameInput').focus();
    });
</script>
</body>
</html>
